(function(){"use strict";var e={8910:function(e,t,r){var a=r(6369),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},l=[],s={},i=s,n=r(1001),c=(0,n.Z)(i,o,l,!1,null,null,null),p=c.exports,u=r(2631),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_box"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"title"},[e._v(" 自 动 化 平 台 登 录 ")]),t("el-form",{ref:"loginRef",attrs:{model:e.formLogin,rules:e.loginRules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入账号"},model:{value:e.formLogin.username,callback:function(t){e.$set(e.formLogin,"username",t)},expression:"formLogin.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"请输入密码"},model:{value:e.formLogin.password,callback:function(t){e.$set(e.formLogin,"password",t)},expression:"formLogin.password"}})],1),t("el-form-item",{attrs:{label:"记住账号"}},[t("el-switch",{model:{value:e.formLogin.status,callback:function(t){e.$set(e.formLogin,"status",t)},expression:"formLogin.status"}})],1),t("el-form-item",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.loginHandle}},[e._v("点击登录")])],1)],1)],1)],1)},m=[],f=(r(7658),{data(){return{formLogin:{username:"",password:"",status:!1},loginRules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,max:18,message:"密码的长度在6到18之间",trigger:"blur"}]}}},methods:{loginHandle:function(){window.sessionStorage.setItem("token","1234"),this.$router.push("/home")}},mounted(){const e=window.localStorage.getItem("username");e&&(this.formLogin.username=e,this.formLogin.status=!0)}}),b=f,g=(0,n.Z)(b,d,m,!1,null,"b87c4d4c",null),h=g.exports,v=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"home-container"},[t("el-header",[t("div",{staticClass:"title"},[e._v(" 防 止 沙 漠 化 管 理 系 统 ")]),t("div",{staticClass:"logonout"},[t("el-popconfirm",{attrs:{title:"确认退出登录？"},on:{confirm:function(t){return e.loginout()}}},[t("div",{attrs:{slot:"reference"},slot:"reference"},[e._v("退出登录")])])],1)]),t("el-container",[t("el-aside",{staticStyle:{overflow:"auto"},attrs:{width:"250px"}},[t("el-menu",{staticClass:"el-menu-demo",attrs:{router:e.rou,"background-color":"#003755","default-active":e.activeMenu,"text-color":"#fff","active-text-color":"#00aaff","unique-opened":""}},[t("el-menu-item",{attrs:{index:"/geoinfo"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("基础信息管理")])])],2),t("el-menu-item",{attrs:{index:"/grassland"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("草原资源管理")])])],2),t("el-menu-item",{attrs:{index:"/geoinfo1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("气象分析")])])],2),t("el-menu-item",{attrs:{index:"/geoinfo2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("荒漠化综合评价")])])],2),t("el-menu-item",{attrs:{index:"/geoinfo3"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("荒漠化监测预警")])])],2),t("el-menu-item",{attrs:{index:"/geoinfo4"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("决策支持")])])],2),t("el-menu-item",{attrs:{index:"/geoinfo5"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("成效评估")])])],2),t("el-menu-item",{attrs:{index:"/statistic"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-notebook-1"}),t("span",[e._v("统计分析")])])],2)],1)],1),t("el-main",{staticStyle:{overflow:"auto",padding:"0 5px"}},[t("router-view")],1)],1)],1)},j=[],w={data(){return{rou:!0,activeMenu:"/dgeoinfo"}},methods:{loginout(){window.sessionStorage.removeItem("token"),this.$router.push("/login")}}},P=w,y=(0,n.Z)(P,v,j,!1,null,"b568a01e",null),x=y.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"project_list"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("接口管理")]),t("el-breadcrumb-item",[e._v("接口列表")])],1)],1),t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[e._v(" 选择项目 "),t("el-select",{attrs:{placeholder:"请选择项目"},model:{value:e.project_id,callback:function(t){e.project_id=t},expression:"project_id"}},e._l(e.projectList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("添加接口")])],1)],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.projectList}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"接口名",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"描述信息",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"负责人",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"测试人员",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"接口数量",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"用例数量",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"套件数量",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除 ")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑项目",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"项目名",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"测试人员",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"开发人员",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"发布应用",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"描述信息"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("创建项目")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"接口名称",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"测试者",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"开发人员",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"发布应用",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"项目描述"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.createProject}},[e._v("提 交")])],1)],2)],1)},$=[],k={data(){return{project_id:"",projectList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"项目名不能为空",trigger:"blur"}],leader:[{required:!0,message:"负责人不能为空",trigger:"blur"}],tester:[{required:!0,message:"测试人员不能为空",trigger:"blur"}],programmer:[{required:!0,message:"开发人员不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"发布应用不能为空",trigger:"blur"}]}}},methods:{createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},C=k,z=(0,n.Z)(C,_,$,!1,null,null,null),R=(z.exports,function(){var e=this,t=e._self._c;return t("div",{staticClass:"caseEdit"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("用例管理")]),t("el-breadcrumb-item",[e._v("用例编辑")])],1)],1),t("el-card",{staticClass:"box-card"},[t("el-divider",{attrs:{"content-position":"left"}},[t("span",{staticStyle:{color:"#409EFF","font-weight":"bold"}},[e._v("Api")])]),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:3}},[t("el-select",{attrs:{placeholder:"请求方法"},model:{value:e.caseInfo.method,callback:function(t){e.$set(e.caseInfo,"method",t)},expression:"caseInfo.method"}},[t("el-option",{attrs:{label:"GET",value:"GET"}}),t("el-option",{attrs:{label:"POST",value:"POST"}}),t("el-option",{attrs:{label:"PUT",value:"PUT"}}),t("el-option",{attrs:{label:"DELETE",value:"DELETE"}}),t("el-option",{attrs:{label:"PATCH",value:"PATCH"}}),t("el-option",{attrs:{label:"HEAD",value:"HEAD"}}),t("el-option",{attrs:{label:"OPTION",value:"OPTION"}})],1)],1),t("el-col",{attrs:{span:9}},[t("el-input",{attrs:{placeholder:"host地址"},model:{value:e.caseInfo.host,callback:function(t){e.$set(e.caseInfo,"host",t)},expression:"caseInfo.host"}},[t("template",{slot:"prepend"},[e._v("Host")])],2)],1),t("el-col",{attrs:{span:9}},[t("el-input",{attrs:{placeholder:"接口路径"},model:{value:e.caseInfo.interface,callback:function(t){e.$set(e.caseInfo,"interface",t)},expression:"caseInfo.interface"}},[t("template",{slot:"prepend"},[e._v("接口地址")])],2)],1),t("el-col",{attrs:{span:3}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-s-promotion"}},[e._v("Run")])],1)],1),t("el-divider",{attrs:{"content-position":"left"}},[t("span",{staticStyle:{color:"#409EFF","font-weight":"bold"}},[e._v("Request")])]),t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"请求头"}},e._l(e.caseInfo.headers,(function(r,a){return t("el-row",{key:a,staticStyle:{margin:"10px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-input",{attrs:{placeholder:"KEY"},model:{value:r.key,callback:function(t){e.$set(r,"key",t)},expression:"header.key"}})],1),t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"VALUE"},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"header.value"}})],1),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.deleteInputRow(r,"headers")}}})],1)],1)})),1),t("el-tab-pane",{attrs:{label:"请求参数"}},[t("el-tabs",[t("el-tab-pane",{attrs:{label:"application/json"}},[t("editor",{ref:"editor",attrs:{height:"300",width:"100%",content:e.caseInfo.json,options:{enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,tabSize:2,fontSize:20,showPrintMargin:!1},lang:"json"},on:{init:e.editorInit},model:{value:e.caseInfo.json,callback:function(t){e.$set(e.caseInfo,"json",t)},expression:"caseInfo.json"}}),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.jsonFormat}},[e._v("json格式化")])],1),t("el-tab-pane",{attrs:{label:"Params"}},e._l(e.caseInfo.params,(function(r,a){return t("el-row",{key:a,staticStyle:{margin:"10px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-input",{attrs:{placeholder:"KEY"},model:{value:r.key,callback:function(t){e.$set(r,"key",t)},expression:"par.key"}})],1),t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"VALUE"},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"par.value"}})],1),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.deleteInputRow(r,"params")}}})],1)],1)})),1),t("el-tab-pane",{attrs:{label:"application/X-www-urlencoded"}},e._l(e.caseInfo.data,(function(r,a){return t("el-row",{key:a,staticStyle:{margin:"10px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-input",{attrs:{placeholder:"KEY"},model:{value:r.key,callback:function(t){e.$set(r,"key",t)},expression:"val.key"}})],1),t("el-col",{attrs:{span:12}},[t("el-input",{attrs:{placeholder:"VALUE"},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"val.value"}})],1),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.deleteInputRow(r,"data")}}})],1)],1)})),1)],1)],1),t("el-tab-pane",{attrs:{label:"响应提取"}},[e._v("响应提取")]),t("el-tab-pane",{attrs:{label:"用例断言"}},[e._v("用例断言")]),t("el-tab-pane",{attrs:{label:"数据库校验"}},[e._v("数据库校验")])],1),t("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("用例详情")])],1)],1),t("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("json-view",{staticStyle:{height:"600px"},attrs:{data:e.caseInfo}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)],1)],1)}),E=[],S=r(5227),q=r.n(S),I=r(4918),L=r.n(I),V={data(){return{dialogVisible:!1,caseInfo:{method:"GET",host:"",interface:"",headers:[{key:"",value:""}],params:[{key:"",value:""}],data:[{key:"",value:""}],json:"{}"}}},methods:{deleteInputRow(e,t){console.log("要删除的数据:",e),this.caseInfo[t]=this.caseInfo[t].filter((function(t,r){return t!==e}))},addInputRow(e){const t=this.caseInfo[e];0===t.length&&this.caseInfo[e].push({key:"",value:""}),(t[t.length-1].key||t[t.length-1].value)&&this.caseInfo[e].push({key:"",value:""})},editorInit(){r(9287),r(4514),r(93),r(3577),r(1210),r(1371)},jsonFormat(){const e=JSON.parse(this.caseInfo.json);this.caseInfo.json=JSON.stringify(e,null,4)}},watch:{"caseInfo.headers":{handler:function(e,t){this.addInputRow("headers")},deep:!0},"caseInfo.params":{deep:!0,handler:function(e,t){this.addInputRow("params")}},"caseInfo.data":{deep:!0,handler:function(e,t){this.addInputRow("data")}}},components:{Editor:q(),jsonView:L()}},D=V,A=(0,n.Z)(D,R,E,!1,null,"a15c3960",null),M=(A.exports,function(){var e=this,t=e._self._c;return t("div",{staticClass:"project_list"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("项目管理")]),t("el-breadcrumb-item",[e._v("项目列表")])],1)],1),t("el-card",{staticClass:"box-card"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("创建项目")]),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.projectList}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"项目名",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"描述信息",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"负责人",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"测试人员",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"接口数量",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"用例数量",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"套件数量",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除 ")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑项目",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"项目名",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"测试人员",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"开发人员",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"发布应用",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"描述信息"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("创建项目")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"测试者",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"开发人员",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"发布应用",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"项目描述"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.createProject}},[e._v("提 交")])],1)],2)],1)}),O=[],T={data(){return{projectList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"项目名不能为空",trigger:"blur"}],leader:[{required:!0,message:"负责人不能为空",trigger:"blur"}],tester:[{required:!0,message:"测试人员不能为空",trigger:"blur"}],programmer:[{required:!0,message:"开发人员不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"发布应用不能为空",trigger:"blur"}]}}},methods:{createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},Z=T,F=(0,n.Z)(Z,M,O,!1,null,null,null),N=(F.exports,function(){var e=this,t=e._self._c;return t("div",{staticClass:"geoinfo"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("基础信息管理")])],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"}},[e._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("导入")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("打印")])],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.geoinfoList}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"地貌类型",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"坡度",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"高程",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"水文特征",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"土壤类型",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"植被类型",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"备注",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proView(r.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("新增")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createProject=!1}}},[e._v("提 交")])],1)],2),t("el-dialog",{attrs:{visible:e.dialogView},on:{"update:visible":function(t){e.dialogView=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("查看")])]),t("el-form",{attrs:{model:e.viewProject,"label-width":"80px",size:"mini"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.name,callback:function(t){e.$set(e.viewProject,"name",t)},expression:"viewProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.tester,callback:function(t){e.$set(e.viewProject,"tester",t)},expression:"viewProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.leader,callback:function(t){e.$set(e.viewProject,"leader",t)},expression:"viewProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.programmer,callback:function(t){e.$set(e.viewProject,"programmer",t)},expression:"viewProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.publish_app,callback:function(t){e.$set(e.viewProject,"publish_app",t)},expression:"viewProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"植被类型"}},[t("el-input",{attrs:{type:"textarea",rows:5,readonly:!0},model:{value:e.viewProject.desc,callback:function(t){e.$set(e.viewProject,"desc",t)},expression:"viewProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogView=!1}}},[e._v("关闭窗口")])],1)],2)],1)}),H=[],J={data(){return{geoinfoList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogView:!1,viewProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],leader:[{required:!0,message:"不能为空",trigger:"blur"}],tester:[{required:!0,message:"不能为空",trigger:"blur"}],programmer:[{required:!0,message:"不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created(){this.createRandomArrayDict()},methods:{createRandomArrayDict(){const e=5,t=20,r=Math.floor(Math.random()*(t-e+1))+e;let a=[];for(let o=0;o<r;o++){let e={id:`测试${o}`,name:`测试${o}`,desc:`测试${o}`,leader:`测试${o}`,tester:`测试${o}`,interfaces:`测试${o}`,testcases:`测试${o}`,testsuits:`测试${o}`};a.push(e)}this.geoinfoList=a},createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},proView(e){console.log(e),this.viewProject={...e},this.dialogView=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},U=J,G=(0,n.Z)(U,N,H,!1,null,null,null),K=G.exports,Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"grassland"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("草原资源管理")])],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"}},[e._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("导入")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("打印")])],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.geoinfoList}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"地貌类型",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"坡度",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"高程",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"水文特征",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"土壤类型",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"植被类型",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"备注",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proView(r.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("新增")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createProject=!1}}},[e._v("提 交")])],1)],2),t("el-dialog",{attrs:{visible:e.dialogView},on:{"update:visible":function(t){e.dialogView=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("查看")])]),t("el-form",{attrs:{model:e.viewProject,"label-width":"80px",size:"mini"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.name,callback:function(t){e.$set(e.viewProject,"name",t)},expression:"viewProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.tester,callback:function(t){e.$set(e.viewProject,"tester",t)},expression:"viewProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.leader,callback:function(t){e.$set(e.viewProject,"leader",t)},expression:"viewProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.programmer,callback:function(t){e.$set(e.viewProject,"programmer",t)},expression:"viewProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.publish_app,callback:function(t){e.$set(e.viewProject,"publish_app",t)},expression:"viewProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"植被类型"}},[t("el-input",{attrs:{type:"textarea",rows:5,readonly:!0},model:{value:e.viewProject.desc,callback:function(t){e.$set(e.viewProject,"desc",t)},expression:"viewProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogView=!1}}},[e._v("关闭窗口")])],1)],2)],1)},B=[],W={data(){return{geoinfoList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogView:!1,viewProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],leader:[{required:!0,message:"不能为空",trigger:"blur"}],tester:[{required:!0,message:"不能为空",trigger:"blur"}],programmer:[{required:!0,message:"不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created(){this.createRandomArrayDict()},methods:{createRandomArrayDict(){const e=5,t=20,r=Math.floor(Math.random()*(t-e+1))+e;let a=[];for(let o=0;o<r;o++){let e={id:`测试${o}`,name:`测试${o}`,desc:`测试${o}`,leader:`测试${o}`,tester:`测试${o}`,interfaces:`测试${o}`,testcases:`测试${o}`,testsuits:`测试${o}`};a.push(e)}this.geoinfoList=a},createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},proView(e){console.log(e),this.viewProject={...e},this.dialogView=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},X=W,Q=(0,n.Z)(X,Y,B,!1,null,null,null),ee=Q.exports,te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"geoinfo1"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("气象分析")])],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"}},[e._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("导入")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("打印")])],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.geoinfoList}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"地貌类型",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"坡度",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"高程",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"水文特征",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"土壤类型",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"植被类型",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"备注",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proView(r.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("新增")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createProject=!1}}},[e._v("提 交")])],1)],2),t("el-dialog",{attrs:{visible:e.dialogView},on:{"update:visible":function(t){e.dialogView=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("查看")])]),t("el-form",{attrs:{model:e.viewProject,"label-width":"80px",size:"mini"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.name,callback:function(t){e.$set(e.viewProject,"name",t)},expression:"viewProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.tester,callback:function(t){e.$set(e.viewProject,"tester",t)},expression:"viewProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.leader,callback:function(t){e.$set(e.viewProject,"leader",t)},expression:"viewProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.programmer,callback:function(t){e.$set(e.viewProject,"programmer",t)},expression:"viewProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.publish_app,callback:function(t){e.$set(e.viewProject,"publish_app",t)},expression:"viewProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"植被类型"}},[t("el-input",{attrs:{type:"textarea",rows:5,readonly:!0},model:{value:e.viewProject.desc,callback:function(t){e.$set(e.viewProject,"desc",t)},expression:"viewProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogView=!1}}},[e._v("关闭窗口")])],1)],2)],1)},re=[],ae={data(){return{geoinfoList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogView:!1,viewProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],leader:[{required:!0,message:"不能为空",trigger:"blur"}],tester:[{required:!0,message:"不能为空",trigger:"blur"}],programmer:[{required:!0,message:"不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created(){this.createRandomArrayDict()},methods:{createRandomArrayDict(){const e=5,t=20,r=Math.floor(Math.random()*(t-e+1))+e;let a=[];for(let o=0;o<r;o++){let e={id:`测试${o}`,name:`测试${o}`,desc:`测试${o}`,leader:`测试${o}`,tester:`测试${o}`,interfaces:`测试${o}`,testcases:`测试${o}`,testsuits:`测试${o}`};a.push(e)}this.geoinfoList=a},createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},proView(e){console.log(e),this.viewProject={...e},this.dialogView=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},oe=ae,le=(0,n.Z)(oe,te,re,!1,null,null,null),se=le.exports,ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"geoinfo2"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("荒漠化综合评价")])],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"}},[e._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("导入")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("打印")])],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.geoinfoList}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"地貌类型",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"坡度",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"高程",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"水文特征",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"土壤类型",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"植被类型",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"备注",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proView(r.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("新增")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createProject=!1}}},[e._v("提 交")])],1)],2),t("el-dialog",{attrs:{visible:e.dialogView},on:{"update:visible":function(t){e.dialogView=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("查看")])]),t("el-form",{attrs:{model:e.viewProject,"label-width":"80px",size:"mini"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.name,callback:function(t){e.$set(e.viewProject,"name",t)},expression:"viewProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.tester,callback:function(t){e.$set(e.viewProject,"tester",t)},expression:"viewProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.leader,callback:function(t){e.$set(e.viewProject,"leader",t)},expression:"viewProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.programmer,callback:function(t){e.$set(e.viewProject,"programmer",t)},expression:"viewProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.publish_app,callback:function(t){e.$set(e.viewProject,"publish_app",t)},expression:"viewProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"植被类型"}},[t("el-input",{attrs:{type:"textarea",rows:5,readonly:!0},model:{value:e.viewProject.desc,callback:function(t){e.$set(e.viewProject,"desc",t)},expression:"viewProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogView=!1}}},[e._v("关闭窗口")])],1)],2)],1)},ne=[],ce={data(){return{geoinfoList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogView:!1,viewProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],leader:[{required:!0,message:"不能为空",trigger:"blur"}],tester:[{required:!0,message:"不能为空",trigger:"blur"}],programmer:[{required:!0,message:"不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created(){this.createRandomArrayDict()},methods:{createRandomArrayDict(){const e=5,t=20,r=Math.floor(Math.random()*(t-e+1))+e;let a=[];for(let o=0;o<r;o++){let e={id:`测试${o}`,name:`测试${o}`,desc:`测试${o}`,leader:`测试${o}`,tester:`测试${o}`,interfaces:`测试${o}`,testcases:`测试${o}`,testsuits:`测试${o}`};a.push(e)}this.geoinfoList=a},createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},proView(e){console.log(e),this.viewProject={...e},this.dialogView=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},pe=ce,ue=(0,n.Z)(pe,ie,ne,!1,null,null,null),de=ue.exports,me=function(){var e=this,t=e._self._c;return t("div",{staticClass:"geoinfo3"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("荒漠化监测预警")])],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"}},[e._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("导入")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("打印")])],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.geoinfoList}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"地貌类型",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"坡度",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"高程",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"水文特征",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"土壤类型",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"植被类型",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"备注",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proView(r.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("新增")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createProject=!1}}},[e._v("提 交")])],1)],2),t("el-dialog",{attrs:{visible:e.dialogView},on:{"update:visible":function(t){e.dialogView=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("查看")])]),t("el-form",{attrs:{model:e.viewProject,"label-width":"80px",size:"mini"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.name,callback:function(t){e.$set(e.viewProject,"name",t)},expression:"viewProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.tester,callback:function(t){e.$set(e.viewProject,"tester",t)},expression:"viewProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.leader,callback:function(t){e.$set(e.viewProject,"leader",t)},expression:"viewProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.programmer,callback:function(t){e.$set(e.viewProject,"programmer",t)},expression:"viewProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.publish_app,callback:function(t){e.$set(e.viewProject,"publish_app",t)},expression:"viewProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"植被类型"}},[t("el-input",{attrs:{type:"textarea",rows:5,readonly:!0},model:{value:e.viewProject.desc,callback:function(t){e.$set(e.viewProject,"desc",t)},expression:"viewProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogView=!1}}},[e._v("关闭窗口")])],1)],2)],1)},fe=[],be={data(){return{geoinfoList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogView:!1,viewProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],leader:[{required:!0,message:"不能为空",trigger:"blur"}],tester:[{required:!0,message:"不能为空",trigger:"blur"}],programmer:[{required:!0,message:"不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created(){this.createRandomArrayDict()},methods:{createRandomArrayDict(){const e=5,t=20,r=Math.floor(Math.random()*(t-e+1))+e;let a=[];for(let o=0;o<r;o++){let e={id:`测试${o}`,name:`测试${o}`,desc:`测试${o}`,leader:`测试${o}`,tester:`测试${o}`,interfaces:`测试${o}`,testcases:`测试${o}`,testsuits:`测试${o}`};a.push(e)}this.geoinfoList=a},createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},proView(e){console.log(e),this.viewProject={...e},this.dialogView=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},ge=be,he=(0,n.Z)(ge,me,fe,!1,null,null,null),ve=he.exports,je=function(){var e=this,t=e._self._c;return t("div",{staticClass:"geoinfo4"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("决策支持")])],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"}},[e._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("导入")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("打印")])],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.geoinfoList}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"地貌类型",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"坡度",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"高程",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"水文特征",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"土壤类型",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"植被类型",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"备注",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proView(r.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("新增")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createProject=!1}}},[e._v("提 交")])],1)],2),t("el-dialog",{attrs:{visible:e.dialogView},on:{"update:visible":function(t){e.dialogView=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("查看")])]),t("el-form",{attrs:{model:e.viewProject,"label-width":"80px",size:"mini"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.name,callback:function(t){e.$set(e.viewProject,"name",t)},expression:"viewProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.tester,callback:function(t){e.$set(e.viewProject,"tester",t)},expression:"viewProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.leader,callback:function(t){e.$set(e.viewProject,"leader",t)},expression:"viewProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.programmer,callback:function(t){e.$set(e.viewProject,"programmer",t)},expression:"viewProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.publish_app,callback:function(t){e.$set(e.viewProject,"publish_app",t)},expression:"viewProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"植被类型"}},[t("el-input",{attrs:{type:"textarea",rows:5,readonly:!0},model:{value:e.viewProject.desc,callback:function(t){e.$set(e.viewProject,"desc",t)},expression:"viewProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogView=!1}}},[e._v("关闭窗口")])],1)],2)],1)},we=[],Pe={data(){return{geoinfoList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogView:!1,viewProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],leader:[{required:!0,message:"不能为空",trigger:"blur"}],tester:[{required:!0,message:"不能为空",trigger:"blur"}],programmer:[{required:!0,message:"不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created(){this.createRandomArrayDict()},methods:{createRandomArrayDict(){const e=5,t=20,r=Math.floor(Math.random()*(t-e+1))+e;let a=[];for(let o=0;o<r;o++){let e={id:`测试${o}`,name:`测试${o}`,desc:`测试${o}`,leader:`测试${o}`,tester:`测试${o}`,interfaces:`测试${o}`,testcases:`测试${o}`,testsuits:`测试${o}`};a.push(e)}this.geoinfoList=a},createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},proView(e){console.log(e),this.viewProject={...e},this.dialogView=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},ye=Pe,xe=(0,n.Z)(ye,je,we,!1,null,null,null),_e=xe.exports,$e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"geoinfo5"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("成效评估")])],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreate="true"}}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"}},[e._v("导出")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("导入")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("打印")])],1),t("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.geoinfoList}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"地貌类型",width:"200"}}),t("el-table-column",{attrs:{prop:"desc",label:"坡度",width:"280"}}),t("el-table-column",{attrs:{prop:"leader",label:"高程",width:"100",sortable:""}}),t("el-table-column",{attrs:{prop:"tester",label:"水文特征",width:"100"}}),t("el-table-column",{attrs:{prop:"interfaces",label:"土壤类型",width:"120",sortable:""}}),t("el-table-column",{attrs:{prop:"testcases",label:"植被类型",width:"80"}}),t("el-table-column",{attrs:{prop:"testsuits",label:"备注",width:"80"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.proView(r.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.proDelete(r.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"updateRef",attrs:{model:e.editProject,rules:e.caseRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,"name",t)},expression:"editProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.leader,callback:function(t){e.$set(e.editProject,"leader",t)},expression:"editProject.leader"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.tester,callback:function(t){e.$set(e.editProject,"tester",t)},expression:"editProject.tester"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.programmer,callback:function(t){e.$set(e.editProject,"programmer",t)},expression:"editProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProject.publish_app,callback:function(t){e.$set(e.editProject,"publish_app",t)},expression:"editProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProject.desc,callback:function(t){e.$set(e.editProject,"desc",t)},expression:"editProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.updateProject}},[e._v("确 定")])],1)],1),t("el-dialog",{ref:"createRef",attrs:{visible:e.dialogCreate,rules:e.caseRules},on:{"update:visible":function(t){e.dialogCreate=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("新增")])]),t("el-form",{ref:"createRef",attrs:{model:e.newProject,"label-width":"80px",size:"mini",rules:e.caseRules}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{model:{value:e.newProject.name,callback:function(t){e.$set(e.newProject,"name",t)},expression:"newProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.tester,callback:function(t){e.$set(e.newProject,"tester",t)},expression:"newProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.leader,callback:function(t){e.$set(e.newProject,"leader",t)},expression:"newProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.programmer,callback:function(t){e.$set(e.newProject,"programmer",t)},expression:"newProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProject.publish_app,callback:function(t){e.$set(e.newProject,"publish_app",t)},expression:"newProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.newProject.desc,callback:function(t){e.$set(e.newProject,"desc",t)},expression:"newProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogCreate=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createProject=!1}}},[e._v("提 交")])],1)],2),t("el-dialog",{attrs:{visible:e.dialogView},on:{"update:visible":function(t){e.dialogView=t}}},[t("template",{slot:"title"},[t("div",{staticStyle:{"text-align":"center",width:"100%","font-size":"24px"}},[e._v("查看")])]),t("el-form",{attrs:{model:e.viewProject,"label-width":"80px",size:"mini"}},[t("el-form-item",{attrs:{label:"地貌类型",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.name,callback:function(t){e.$set(e.viewProject,"name",t)},expression:"viewProject.name"}})],1),t("el-form-item",{attrs:{label:"坡度",prop:"tester"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.tester,callback:function(t){e.$set(e.viewProject,"tester",t)},expression:"viewProject.tester"}})],1),t("el-form-item",{attrs:{label:"高程",prop:"leader"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.leader,callback:function(t){e.$set(e.viewProject,"leader",t)},expression:"viewProject.leader"}})],1),t("el-form-item",{attrs:{label:"水文特征",prop:"programmer"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.programmer,callback:function(t){e.$set(e.viewProject,"programmer",t)},expression:"viewProject.programmer"}})],1),t("el-form-item",{attrs:{label:"土壤类型",prop:"publish_app"}},[t("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:e.viewProject.publish_app,callback:function(t){e.$set(e.viewProject,"publish_app",t)},expression:"viewProject.publish_app"}})],1),t("el-form-item",{attrs:{label:"植被类型"}},[t("el-input",{attrs:{type:"textarea",rows:5,readonly:!0},model:{value:e.viewProject.desc,callback:function(t){e.$set(e.viewProject,"desc",t)},expression:"viewProject.desc"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogView=!1}}},[e._v("关闭窗口")])],1)],2)],1)},ke=[],Ce={data(){return{geoinfoList:[],page:1,count:0,size:10,dialogEdit:!1,editProject:{},dialogView:!1,viewProject:{},dialogCreate:!1,newProject:{name:"",leader:"",tester:"",programmer:"",publish_app:"",desc:""},caseRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],leader:[{required:!0,message:"不能为空",trigger:"blur"}],tester:[{required:!0,message:"不能为空",trigger:"blur"}],programmer:[{required:!0,message:"不能为空",trigger:"blur"}],publish_app:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created(){this.createRandomArrayDict()},methods:{createRandomArrayDict(){const e=5,t=20,r=Math.floor(Math.random()*(t-e+1))+e;let a=[];for(let o=0;o<r;o++){let e={id:`测试${o}`,name:`测试${o}`,desc:`测试${o}`,leader:`测试${o}`,tester:`测试${o}`,interfaces:`测试${o}`,testcases:`测试${o}`,testsuits:`测试${o}`};a.push(e)}this.geoinfoList=a},createProject(){this.$refs.createRef.validate((async e=>{if(!e)return;const t=await this.$request.post("/projects/",this.newProject);201===t.status?(this.$message({type:"success",message:"项目创建成功!",duration:1e3}),this.getProject(),this.dialogCreate=!1):(console.log(t),this.$message.error("服务端异常!"))}))},proEdit(e){console.log(e),this.editProject={...e},this.dialogEdit=!0},proView(e){console.log(e),this.viewProject={...e},this.dialogView=!0},async updateProject(){this.$refs.updateRef.validate((async e=>{if(!e)return;const t=await this.$request.put("/projects/"+this.editProject.id+"/",this.editProject);200===t.status?(this.$message({message:"修改项目成功",type:"success",duration:1e3}),this.getProject(),this.dialogEdit=!1):this.$message({message:"修改失败",type:"error",duration:1e3})}))},async proDelete(e){console.log("当前删除的数据id为：",e);const t=await this.$request.delete("/projects/"+e+"/");204===t.status?(this.$message({message:"删除成功",type:"success",duration:1e3}),this.getProject()):this.$message({message:"删除失败",type:"error",duration:1e3})},async getProject(){const e=await this.$request.get("/projects/",{params:{page:this.page,size:this.size}});if(200!==e.status)return this.$message.error("服务器异常");this.projectList=e.data.results,this.count=e.data.count,console.log(e)},handleSizeChange(e){this.size=e,this.page=1,this.getProject()},handleCurrentChange(e){this.page=e,this.getProject()}},mounted(){this.getProject()}},ze=Ce,Re=(0,n.Z)(ze,$e,ke,!1,null,null,null),Ee=Re.exports,Se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"statistic"},[t("el-card",{staticClass:"card-container"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("统计分析")])],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("自定义柱状图")])],1)],1),t("bar1")],1)],1),t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("自定义饼图")])],1)],1),t("pie1")],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("自定义柱状图")])],1)],1),t("bar1")],1)],1),t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("自定义地图")])],1)],1),t("geomap")],1)],1)],1)],1)],1)},qe=[],Ie=function(){var e=this,t=e._self._c;return t("div",{ref:"Echart",staticStyle:{width:"auto",height:"400px"}})},Le=[],Ve=r(9043),De={name:"bar1",data(){return{option:{title:{text:"Rainfall vs Evaporation",subtext:"Fake Data"},tooltip:{trigger:"axis"},legend:{data:["Rainfall","Evaporation"]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}],yAxis:[{type:"value"}],series:[{name:"Rainfall",type:"bar",data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,32.6,20,6.4,3.3],markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]}},{name:"Evaporation",type:"bar",data:[2.6,5.9,9,26.4,28.7,70.7,175.6,182.2,48.7,18.8,6,2.3],markPoint:{data:[{name:"Max",value:182.2,xAxis:7,yAxis:183},{name:"Min",value:2.3,xAxis:11,yAxis:3}]},markLine:{data:[{type:"average",name:"Avg"}]}}]}}},mounted(){this.echartsInit()},methods:{echartsInit(){Ve.S1(this.$refs.Echart).setOption(this.option)}}},Ae=De,Me=(0,n.Z)(Ae,Ie,Le,!1,null,"05434aed",null),Oe=Me.exports,Te=function(){var e=this,t=e._self._c;return t("div",{ref:"Echart",staticStyle:{width:"auto",height:"400px"}})},Ze=[],Fe={name:"pie1",data(){return{option:{legend:{top:"bottom"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"Nightingale Chart",type:"pie",radius:[50,250],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},data:[{value:40,name:"rose 1"},{value:38,name:"rose 2"},{value:32,name:"rose 3"},{value:30,name:"rose 4"},{value:28,name:"rose 5"},{value:26,name:"rose 6"},{value:22,name:"rose 7"},{value:18,name:"rose 8"}]}]}}},mounted(){this.echartsInit()},methods:{echartsInit(){Ve.S1(this.$refs.Echart).setOption(this.option)}}},Ne=Fe,He=(0,n.Z)(Ne,Te,Ze,!1,null,"38e1b5b1",null),Je=He.exports,Ue=function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",[t("div",{attrs:{id:"main"}}),r.isDeep?t("button",{on:{click:function(e){return r.backToLastMap()}}},[e._v("返回上一层")]):e._e()])},Ge=[],Ke=r(4161),Ye=r(8499),Be=r.n(Ye),We={__name:"geomap",setup(e){const t=(0,a.ref)(),r=(0,a.ref)(!1),o=(0,a.ref)([]),l=()=>{t.value=Ve.S1(document.getElementById("main")),i(t,"中华人民共和国","100000",!1),t.value.on("click",(e=>{const a=e.name,o=e.data.value.adcode;"100000"!==o&&(r.value=!0),i(t,a,o)}))},s=()=>{o.value.pop();const e=o.value[o.value.length-1],{geoName:a,adcode:l}=e;"100000"===l&&(r.value=!1),i(t,a,l)},i=async(e,t,r)=>{e.value.showLoading();try{const a=await c(r,t);-1==o.value.findIndex((e=>e.adcode===r))&&o.value.push({geoName:t,adcode:r});const l=p(t,a);e.value.setOption(l)}catch(a){return Ye.Message.info("已经是最后一层了。")}finally{e.value.hideLoading()}};let n="";const c=async(e="100000",t)=>{if(e===n)throw new Error("已经是最后一层了。");const r=await Ke.Z.get(`https://geo.datav.aliyun.com/areas_v2/bound/${e}_full.json`);n=e,Ve.je(t,r.data);const a=r.data.features.map((e=>({value:e.properties,name:e.properties.name})));return a},p=(e,t)=>{const r={title:{text:e},tooltip:{trigger:"item"},series:[{type:"map",map:e,data:t}],animation:!0};return r};return(0,a.onMounted)((()=>{l()})),{__sfc:!0,myChart:t,isDeep:r,historyMapData:o,chartMap:l,backToLastMap:s,initMap:i,a:n,getMapJSON:c,getOption:p}}},Xe=We,Qe=(0,n.Z)(Xe,Ue,Ge,!1,null,null,null),et=Qe.exports,tt={name:"statistic",components:{bar1:Oe,pie1:Je,geomap:et}},rt=tt,at=(0,n.Z)(rt,Se,qe,!1,null,"08ea59e3",null),ot=at.exports;a["default"].use(u.ZP);const lt=[{path:"/",redirect:"/geoinfo"},{path:"/login",name:"login",component:h},{path:"/home",name:"home",component:x,redirect:"/geoinfo",children:[{path:"/geoinfo",name:"geoinfo",component:K},{path:"/grassland",name:"grassland",component:ee},{path:"/geoinfo1",name:"geoinfo1",component:se},{path:"/geoinfo2",name:"geoinfo2",component:de},{path:"/geoinfo3",name:"geoinfo3",component:ve},{path:"/geoinfo4",name:"geoinfo4",component:_e},{path:"/geoinfo5",name:"geoinfo5",component:Ee},{path:"/statistic",name:"statistic",component:ot}]}],st=new u.ZP({routes:lt});st.beforeEach(((e,t,r)=>"/login"===e.path||window.sessionStorage.getItem("token")?r():r("/login")));var it=st;a["default"].use(Be());const nt=Ke.Z.create({validateStatus:function(e){return!0},baseURL:"http://127.0.0.1:8001"});nt.interceptors.request.use((function(e){return window.sessionStorage.getItem("token")&&(e.headers.Authorization="JWT "+window.sessionStorage.getItem("token")),console.log("请求头",e.headers),e}));var ct=nt;a["default"].prototype.$request=ct,a["default"].config.productionTip=!1,new a["default"]({router:it,render:e=>e(p)}).$mount("#app")}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=e,function(){r.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){r.amdO={}}(),function(){var e=[];r.O=function(t,a,o,l){if(!a){var s=1/0;for(p=0;p<e.length;p++){a=e[p][0],o=e[p][1],l=e[p][2];for(var i=!0,n=0;n<a.length;n++)(!1&l||s>=l)&&Object.keys(r.O).every((function(e){return r.O[e](a[n])}))?a.splice(n--,1):(i=!1,l<s&&(s=l));if(i){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[a,o,l]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,s=a[0],i=a[1],n=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(n)var p=n(r)}for(t&&t(a);c<s.length;c++)l=s[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(p)},a=self["webpackChunkvue2_desert"]=self["webpackChunkvue2_desert"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(8910)}));a=r.O(a)})();
//# sourceMappingURL=app.a5178727.js.map